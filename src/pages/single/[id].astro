---
import Navigation from "../../components/Navigation.astro";
import Footer from "../../components/Footer.astro";
import "../../styles/style.css";

//https://uzaqfwgbruvllvdlpabq.supabase.co/rest/v1/Smykker
export async function getStaticPaths() {
  const url = "https://uzaqfwgbruvllvdlpabq.supabase.co/rest/v1/Smykker";
  const options = {
    headers: {
      apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV6YXFmd2dicnV2bGx2ZGxwYWJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzMzOTMyNjgsImV4cCI6MjA0ODk2OTI2OH0.RBngwuyg62kGxohOAq847cclytJ9kdChHAHwghgCW0g",
    },
  };

  const data = await fetch(url, options).then((res) => res.json());

  return data.map((produkt) => ({
    params: { id: produkt.id },
    props: { produkt }, // send al data med som props
  }));
}
const { produkt } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Astro</title>
  </head>
  <body>
    <Navigation />
    <img src={produkt.billede} alt="billede" height="460" width="430" />
    <h1>{produkt.navn}</h1>
    <h3>{produkt.brand}</h3>
    <h3>{produkt.pris}</h3>
    <p>{produkt.beskrivelse}</p>
    <main>
      <Footer />
    </main>
  </body>
</html>

<style></style>
